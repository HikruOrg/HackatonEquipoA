# Environment Configuration for Lead Research Agent

# Azure Foundry Configuration (Required for AI agent)
AZURE_FOUNDRY_ENDPOINT=https://your-foundry-endpoint.services.ai.azure.com/api/projects/YourProject
AZURE_FOUNDRY_API_KEY=your-foundry-api-key-here
AZURE_FOUNDRY_AGENT_ID=asst_your-agent-id-here

# Azure OpenAI Configuration (if using direct OpenAI instead of Foundry)
AZURE_OPENAI_API_KEY=your-azure-openai-api-key-here
AZURE_OPENAI_ENDPOINT=https://your-resource-name.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=gpt-4

# Microsoft Graph Configuration (Required for Outlook email integration)
# Get these from Azure App Registration for accessing LinkSV Pulse emails

# Option 1: Delegated Authentication (Development/Interactive)
# Use when running locally and you want to authenticate as yourself
# The application will open a browser for you to login once
MICROSOFT_GRAPH_CLIENT_ID=your-client-id-here
MICROSOFT_GRAPH_TENANT_ID=your-tenant-id-here
# Leave MICROSOFT_GRAPH_CLIENT_SECRET empty to use delegated auth
MICROSOFT_GRAPH_CLIENT_SECRET=

# Option 2: App-Only Authentication (Production/Service)
# Use when running as a service/scheduled task without user interaction
# Requires Mail.Read and Mail.Send permissions granted by admin in Azure AD
MICROSOFT_GRAPH_CLIENT_ID=your-client-id-here
MICROSOFT_GRAPH_TENANT_ID=your-tenant-id-here
MICROSOFT_GRAPH_CLIENT_SECRET=your-client-secret-here
# Specify the target mailbox user ID (UPN or Object ID) when using app-only auth
MICROSOFT_GRAPH_USER_ID=user@domain.com

# Worker Configuration
# WORKER_EXECUTION_INTERVAL: Time between executions
# Format 1: Integer (minutes) - e.g., "60" = 1 hour
# Format 2: TimeSpan (HH:mm:ss) - e.g., "01:00:00" = 1 hour
# Leave empty or remove for triggered mode (run once and exit)
WORKER_EXECUTION_INTERVAL=60

# Common interval values:
# 30 = Every 30 minutes
# 60 = Every hour (default recommended)
# 120 = Every 2 hours
# 360 = Every 6 hours
# 1440 = Once per day (24 hours)

# Instructions:
# 1. Copy this file to .env
# 2. Replace the placeholder values with your actual Azure credentials
# 3. For production, use App-Only Authentication (Option 2)
# 4. Never commit the .env file to version control
# 5. For local development, you can use Delegated Authentication (Option 1)

# AUTHENTICATION FLOW:
# - If MICROSOFT_GRAPH_CLIENT_SECRET is empty: Uses InteractiveBrowserCredential (delegated auth - requires browser login)
# - If MICROSOFT_GRAPH_CLIENT_SECRET is set: Uses ClientSecretCredential (app-only auth - no user interaction needed)
# 
# For production services, use Option 2 (app-only auth) and grant these permissions in Azure AD admin center:
# - Mail.Read (to read newsletters)
# - Mail.Send (to send results)

# EXECUTION MODES:
# Mode 1: Continuous (Recommended for Production)
#   Set WORKER_EXECUTION_INTERVAL to desired interval
#   Worker runs continuously, executes task at intervals
#   Use with Azure WebJob in Continuous mode
#
# Mode 2: Triggered (Good for Development/Testing)
#   Leave WORKER_EXECUTION_INTERVAL empty or remove it
#   Worker executes once and exits
#   Use for manual execution or Azure WebJob in Triggered mode